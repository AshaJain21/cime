

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7. Data Land (DLND) &mdash; CIME master documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="CIME master documentation" href="../index.html"/>
        <link rel="up" title="Data Models" href="index.html"/>
        <link rel="next" title="8. Data Ice (DICE)" href="data-seaice.html"/>
        <link rel="prev" title="6. Data Atmosphere (DATM)" href="data-atm.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> CIME
          

          
          </a>

          
            
            
              <div class="version">
                
                  <div class="version-dropdown">
                    <select class="version-list" id="version-list">
                      <option value=''>master</option>
                      
                        
                      
                        
                          <option value="">[placeholder]</option>
                        
                      
                    </select>
                  </div>
                
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../what_cime/index.html">What is CIME?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users_guide/index.html">Case Control System Part 1: Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users_guide/index.html#case-control-system-part-2-configuration-porting-testing-and-use-cases">Case Control System Part 2: Configuration, Porting, Testing and Use Cases</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Data Models</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="input-namelists.html">2. Input Namelists</a></li>
<li class="toctree-l2"><a class="reference internal" href="input-streams.html">3. Input Streams</a></li>
<li class="toctree-l2"><a class="reference internal" href="design-details.html">4. Design Details</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-model-science.html">5. Data Model Science</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-atm.html">6. Data Atmosphere (DATM)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">7. Data Land (DLND)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#xml-variables">7.1. xml variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#datamode-values">7.2. datamode values</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dlnd-mode-datamode-and-streams">7.3. DLND_MODE, datamode and streams</a></li>
<li class="toctree-l3"><a class="reference internal" href="#namelists">7.4. Namelists</a></li>
<li class="toctree-l3"><a class="reference internal" href="#streams-independent-of-dlnd-mode-value">7.5. Streams independent of DLND_MODE value</a></li>
<li class="toctree-l3"><a class="reference internal" href="#field-names">7.6. Field names</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data-seaice.html">8. Data Ice (DICE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-ocean.html">9. Data Ocean (DOCN)</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-river.html">10. Data River (DROF)</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-wave.html">11. Data Wave (DWAV)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../driver_cpl/index.html">Driver/Coupler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_cpl/index.html">Building a Coupled Model with CIME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc_tools/index.html">Miscellaneous Tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools_user/index.html">User Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xml_files/index.html">XML Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CIME_api/modules.html">CIME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools_api/modules.html">Tools</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CIME</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Data Models</a> &raquo;</li>
        
      <li>7. Data Land (DLND)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/data_models/data-lnd.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-land-dlnd">
<span id="data-lnd"></span><h1>7. Data Land (DLND)<a class="headerlink" href="#data-land-dlnd" title="Permalink to this headline">¶</a></h1>
<p>The land model is unique because it supports land data and snow data (<em>lnd and sno</em>) almost as if they were two separate components, but they are in fact running in one component model through one interface.
The lnd (land) data consist of fields sent to the atmosphere.
This set of data is used when running DLND with an active atmosphere.
In general this is not a mode that is used or supported.
The sno (snow) data consist of fields sent to the glacier model. This set of data is used when running dlnd with an active glacier model (TG compsets). Both sets of data are assumed to be on the same grid.</p>
<div class="section" id="xml-variables">
<span id="dlnd-xml-vars"></span><h2>7.1. xml variables<a class="headerlink" href="#xml-variables" title="Permalink to this headline">¶</a></h2>
<p>The following are xml variables that CIME supports for DLND.
These variables are defined in <code class="docutils literal notranslate"><span class="pre">$CIMEROOT/src/components/data_comps/dlnd/cime_config/config_component.xml</span></code>.
These variables will appear in <code class="docutils literal notranslate"><span class="pre">env_run.xml</span></code> and are used by the DLND <code class="docutils literal notranslate"><span class="pre">cime_config/buildnml</span></code> script to generate the DLND namelist file <code class="docutils literal notranslate"><span class="pre">dlnd_in</span></code> and the required associated stream files for the case.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These xml variables are used by the the dlnd’s <strong>cime_config/buildnml</strong> script in conjunction with dlnd’s <strong>cime_config/namelist_definition_dlnd.xml</strong> file to generate the namelist file <code class="docutils literal notranslate"><span class="pre">dlnd_in</span></code>.</p>
</div>
<table border="1" class="colwidths-given docutils" id="id1">
<caption><span class="caption-text">“DLND xml variables”</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">xml variable</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DLND_MODE</td>
<td>Mode for data land component</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>Valid values are: NULL, CPLHIST, GLC_CPLHIST</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>DLND_CPLHIST_DOMAIN_FILE</td>
<td>Coupler history forcing data mode - full pathname of model domain file</td>
</tr>
<tr class="row-even"><td>DLND_CPLHIST_CASE</td>
<td>Coupler history forcing data mode - case name</td>
</tr>
<tr class="row-odd"><td>DLND_CPLHIST_DIR</td>
<td>Coupler history forcing data mode - directory containing coupler history data</td>
</tr>
<tr class="row-even"><td>DLND_CPLHIST_YR_ALIGN</td>
<td>Coupler history forcing data mode - simulation year corresponding to DLND_CPLHIST_YR_START</td>
</tr>
<tr class="row-odd"><td>DLND_CPLHIST_YR_START</td>
<td>Coupler history forcing data mode - starting year to loop data over</td>
</tr>
<tr class="row-even"><td>DLND_CPLHIST_YR_END</td>
<td>Coupler history forcing data mode - ending year to loop data over</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If <code class="docutils literal notranslate"><span class="pre">DLND_MODE</span></code> is set to <code class="docutils literal notranslate"><span class="pre">CPLHIST</span></code>, it is normally assumed that the model domain will be identical to <strong>all</strong> of the stream domains. To ensure this, the xml variables <code class="docutils literal notranslate"><span class="pre">LND_DOMAIN_PATH</span></code> and <code class="docutils literal notranslate"><span class="pre">LND_DOMAIN_FILE</span></code> are ignored and a valid setting <strong>must be given</strong> for <code class="docutils literal notranslate"><span class="pre">DLND_CPLHIST_DOMAIN_FILE</span></code>. If <code class="docutils literal notranslate"><span class="pre">DLND_CPLHIST_DOMAIN_FILE</span></code> is set to <code class="docutils literal notranslate"><span class="pre">null</span></code>, then the dlnd component domain information is read in from the first coupler history file in the target stream and  it is assumed that the first coupler stream file that is pointed to contains the domain  information for that stream. Alternatively, <code class="docutils literal notranslate"><span class="pre">DLND_CPLHIST_DOMAIN_FILE</span></code> can be set to <code class="docutils literal notranslate"><span class="pre">$LND_DOMAIN_PATH/$LND_DOMAIN_FILE</span></code>.</p>
</div>
</div>
<div class="section" id="datamode-values">
<span id="dlnd-datamodes"></span><h2>7.2. datamode values<a class="headerlink" href="#datamode-values" title="Permalink to this headline">¶</a></h2>
<p>The xml variable <code class="docutils literal notranslate"><span class="pre">DLND_MODE</span></code> (described in <a class="reference internal" href="#dlnd-mode"><span class="std std-ref">DLND_MODE, datamode and streams</span></a>) sets the streams that are associated with DLND and also sets the namelist variable <code class="docutils literal notranslate"><span class="pre">datamode</span></code>.
<code class="docutils literal notranslate"><span class="pre">datamode</span></code> (which appears in <code class="docutils literal notranslate"><span class="pre">shr_strdata_nml</span></code>) specifies what additional operations need to be done by DLND on the streams before returning to the driver.</p>
<p>Each data model has its own set of supported <code class="docutils literal notranslate"><span class="pre">datamode</span></code> values. The following are the supported DLND <code class="docutils literal notranslate"><span class="pre">datamode</span></code> values, as defined in the file <code class="docutils literal notranslate"><span class="pre">namelist_definition_dlnd.xml</span></code>.</p>
<table border="1" class="colwidths-given docutils" id="id2">
<caption><span class="caption-text">“Valid values for datamode namelist variable”</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">datamode variable</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>NULL</td>
<td>Turns off the data model as a provider of data to the coupler.  The <code class="docutils literal notranslate"><span class="pre">lnd_present</span></code> flag will be set to false and the coupler will assume no exchange of data to or from the data model.</td>
</tr>
<tr class="row-odd"><td>COPYALL</td>
<td>The default science mode of the data model is the COPYALL mode. This mode will examine the fields found in all input data streams; if any input field names match the field names used internally, they are copied into the export array and passed directly to the coupler without any special user code.  Any required fields not found on an input stream will be set to zero.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="dlnd-mode-datamode-and-streams">
<span id="dlnd-mode"></span><h2>7.3. DLND_MODE, datamode and streams<a class="headerlink" href="#dlnd-mode-datamode-and-streams" title="Permalink to this headline">¶</a></h2>
<p>The following table describes the valid values of <code class="docutils literal notranslate"><span class="pre">DLND_MODE</span></code> (defined in the <code class="docutils literal notranslate"><span class="pre">config_component.xml</span></code> file for DLND), and how they relate to the associated input streams and the <code class="docutils literal notranslate"><span class="pre">datamode</span></code> namelist variable.
CIME will generate a value of <code class="docutils literal notranslate"><span class="pre">DLND_MODE</span></code> based on the compset.</p>
<table border="1" class="colwidths-given docutils" id="id3">
<caption><span class="caption-text">“Relationship between DLND_MODE, datamode and streams”</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">DLND_MODE</th>
<th class="head">description-streams-datamode</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>NULL</td>
<td>null mode</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>streams: none</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>datamode: null</td>
</tr>
<tr class="row-odd"><td>CPLHIST</td>
<td>land forcing data (e.g. produced by CESM/CLM) from a previous model run are read in from coupler history files</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>streams: lnd.cplhist</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>datamode: COPYALL</td>
</tr>
<tr class="row-even"><td>GLC_CPLHIST</td>
<td>glc coupling fields (e.g. produced by CESM/CLM) from a previous model run are read in from coupler history files</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>streams: sno.cplhist</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>datamode: COPYALL</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="namelists">
<h2>7.4. Namelists<a class="headerlink" href="#namelists" title="Permalink to this headline">¶</a></h2>
<p>The namelist file for DLND is <code class="docutils literal notranslate"><span class="pre">dlnd_in</span></code> (or <code class="docutils literal notranslate"><span class="pre">dlnd_in_NNN</span></code> for multiple instances).</p>
<p>As is the case for all data models, DLND namelists can be separated into two groups, stream-independent and stream-dependent.</p>
<p>The stream dependent group is <a class="reference internal" href="input-streams.html#input-streams"><span class="std std-ref">shr_strdata_nml</span></a>.</p>
<p id="dlnd-stream-independent-namelists">The stream-independent group is <code class="docutils literal notranslate"><span class="pre">dlnd_nml</span></code> and the DLND stream-independent namelist variables are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>decomp</td>
<td><p class="first">decomposition strategy (1d, root)</p>
<p class="last">1d =&gt; vector decomposition, root =&gt; run on master task</p>
</td>
</tr>
<tr class="row-even"><td>restfilm</td>
<td>master restart filename</td>
</tr>
<tr class="row-odd"><td>restfils</td>
<td>stream restart filename</td>
</tr>
<tr class="row-even"><td>force_prognostic_true</td>
<td>TRUE =&gt; force prognostic behavior</td>
</tr>
</tbody>
</table>
<p>To change the namelist settings in <code class="docutils literal notranslate"><span class="pre">dlnd_in</span></code>, edit the file <code class="docutils literal notranslate"><span class="pre">user_nl_dlnd</span></code>.</p>
</div>
<div class="section" id="streams-independent-of-dlnd-mode-value">
<span id="dlnd-mode-independent-streams"></span><h2>7.5. Streams independent of DLND_MODE value<a class="headerlink" href="#streams-independent-of-dlnd-mode-value" title="Permalink to this headline">¶</a></h2>
<p>There are no datamode independent streams for DLND.</p>
</div>
<div class="section" id="field-names">
<span id="dlnd-fields"></span><h2>7.6. Field names<a class="headerlink" href="#field-names" title="Permalink to this headline">¶</a></h2>
<p>DLND defines a set of pre-defined internal field names as well as mappings for how those field names map to the fields sent to the coupler.
In general, the stream input file should translate the stream input variable names into the <code class="docutils literal notranslate"><span class="pre">dlnd_fld</span></code> names below for use within the data land model.</p>
<table border="1" class="colwidths-given docutils" id="id4">
<caption><span class="caption-text">“DLND internal field names”</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">dlnd_fld (avifld)</th>
<th class="head">driver_fld (avofld)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>t</td>
<td>Sl_t</td>
</tr>
<tr class="row-odd"><td>tref</td>
<td>Sl_tref</td>
</tr>
<tr class="row-even"><td>qref</td>
<td>Sl_qref</td>
</tr>
<tr class="row-odd"><td>avsdr</td>
<td>Sl_avsdr</td>
</tr>
<tr class="row-even"><td>anidr</td>
<td>Sl_anidr</td>
</tr>
<tr class="row-odd"><td>avsdf</td>
<td>Sl_avsdf</td>
</tr>
<tr class="row-even"><td>anidf</td>
<td>Sl_anidf</td>
</tr>
<tr class="row-odd"><td>snowh</td>
<td>Sl_snowh</td>
</tr>
<tr class="row-even"><td>taux</td>
<td>Fall_taux</td>
</tr>
<tr class="row-odd"><td>tauy</td>
<td>Fall_tauy</td>
</tr>
<tr class="row-even"><td>lat</td>
<td>Fall_lat</td>
</tr>
<tr class="row-odd"><td>sen</td>
<td>Fall_sen</td>
</tr>
<tr class="row-even"><td>lwup</td>
<td>Fall_lwup</td>
</tr>
<tr class="row-odd"><td>evap</td>
<td>Fall_evap</td>
</tr>
<tr class="row-even"><td>swnet</td>
<td>Fall_swnet</td>
</tr>
<tr class="row-odd"><td>lfrac</td>
<td>Sl_landfrac</td>
</tr>
<tr class="row-even"><td>fv</td>
<td>Sl_fv</td>
</tr>
<tr class="row-odd"><td>ram1</td>
<td>Sl_ram1</td>
</tr>
<tr class="row-even"><td>flddst1</td>
<td>Fall_flxdst1</td>
</tr>
<tr class="row-odd"><td>flxdst2</td>
<td>Fall_flxdst2</td>
</tr>
<tr class="row-even"><td>flxdst3</td>
<td>Fall_flxdst3</td>
</tr>
<tr class="row-odd"><td>flxdst4</td>
<td>Fall_flxdst4</td>
</tr>
<tr class="row-even"><td>tsrfNN</td>
<td>Sl_tsrfNN</td>
</tr>
<tr class="row-odd"><td>topoNN</td>
<td>Sl_topoNN</td>
</tr>
<tr class="row-even"><td>qiceNN</td>
<td>Flgl_qiceNN</td>
</tr>
</tbody>
</table>
<p>where NN = (00,01,02,…, <code class="docutils literal notranslate"><span class="pre">glc_nec</span></code>), and <code class="docutils literal notranslate"><span class="pre">glc_nec</span></code> is the number of glacier elevation classes.
Note that the number of elevation classes on the input files must be the same as in the run.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="data-seaice.html" class="btn btn-neutral float-right" title="8. Data Ice (DICE)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="data-atm.html" class="btn btn-neutral" title="6. Data Atmosphere (DATM)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, U.S. National Science Foundation and U.S. Department of Energy.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
     
<script>var version_json_loc = "../../../versions.json";</script>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/pop_ver.js"></script>
    

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>